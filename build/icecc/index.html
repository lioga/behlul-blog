<!doctype html>
<html lang="en-US">
  <head prefix="og: https://ogp.me/ns#">
    <meta charset="utf-8" />
    <meta name="generator" content="gh:importantimport/urara" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="manifest" crossorigin="use-credentials" href="/manifest.webmanifest" />
    <link rel="alternate" type="application/feed+json" href="/feed.json" />
    <link rel="alternate" type="application/atom+xml" href="/atom.xml" />
    <link rel="sitemap" type="application/xml" href="/sitemap.xml" />
    <meta http-equiv="content-security-policy" content="style-src 'self' 'unsafe-inline' https://giscus.app">
		<link href="../_app/immutable/assets/0.e194786d.css" rel="stylesheet">
		<link href="../_app/immutable/assets/posts.5f6fea03.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.e8dc2186.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/scheduler.55c863de.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/singletons.0cfa6b11.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index.1bfe2637.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.accb86e8.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/preload-helper.a4192956.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index.627ff791.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.dd3c19a5.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/posts.334c0822.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/icon.8c9b757a.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/4.5e7dcf0e.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/post_layout.8f6c1df1.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/footer.77c294ae.js"><title>Distributed Compilation with icecc | Behlul Akbudak</title><!-- HEAD_svelte-1592q3p_START --><!-- HEAD_svelte-1592q3p_END --><!-- HEAD_svelte-1kxdj3d_START --><link rel="shortcut icon" href="https://behlulakbudak.com/favicon.png" sizes="48x48" type="image/png"><link rel="apple-touch-icon" href="https://behlulakbudak.com/assets/any@180.png" sizes="180x180" type="image/png"><link rel="icon" href="https://behlulakbudak.com/assets/any@192.png" sizes="192x192" type="image/png"><!-- HEAD_svelte-1kxdj3d_END --><!-- HEAD_svelte-1g590ms_START --><meta name="theme-color"><!-- HEAD_svelte-1g590ms_END --><!-- HEAD_svelte-abrfj_START --><meta name="author" content="Behlul Akbudak"><link rel="canonical" href="https://behlulakbudak.com/icecc">  <meta name="keywords" content="C/C++, icecc, Raspberry Pi"> <meta name="description" content="Setting up icecc for distributed compilation with Raspberry Pi"><!-- HEAD_svelte-abrfj_END --><!-- HEAD_svelte-4dky5b_START --><meta property="og:site_name" content="Behlul Akbudak"><meta property="og:locale" content="en-US"><meta property="og:type" content="article"> <meta property="og:title" content="Distributed Compilation with icecc"> <meta property="og:description" content="Setting up icecc for distributed compilation with Raspberry Pi"> <meta property="og:image" content="https://behlulakbudak.com/assets/maskable@512.png"> <meta name="twitter:card" content="summary"> <meta property="article:tag" content="C/C++"><meta property="article:tag" content="icecc"><meta property="article:tag" content="Raspberry Pi"> <meta property="og:url" content="https://behlulakbudak.com/icecc"> <meta property="article:author" content="Behlul Akbudak"> <meta property="article:published_time" content="2024-06-14T00:00:00.000Z"> <meta property="article:modified_time" content="2024-06-14T00:00:00.000Z"><!-- HEAD_svelte-4dky5b_END -->
  </head>
  <body itemscope itemtype="https://schema.org/WebPage">
    <div style="display: contents">      <header id="header" class="fixed z-50 w-full transition-all duration-500 ease-in-out border-b-2 border-transparent max-h-[4.125rem] false"><div class="navbar"><div class="navbar-start">  <div class="dropdown lg:hidden"><label for="navbar-dropdown" tabindex="0" class="btn btn-square btn-ghost" data-svelte-h="svelte-rz1qrs"><span class="i-heroicons-outline-menu-alt-1"></span></label> <ul id="navbar-dropdown" tabindex="0" class="menu menu-compact dropdown-content bg-base-100 text-base-content shadow-lg rounded-box min-w-max max-w-52 p-2"><li><a href="/">Home</a> </li><li><a href="/about">About</a> </li></ul></div> <div class="swap order-last hidden lg:inline-grid"><button class="swap-on btn btn-ghost text-base font-normal normal-case transition-all duration-200 hidden"></button> <ul class="swap-off menu menu-horizontal p-0"><li><a class="!rounded-btn" href="/">Home</a> </li><li><a class="!rounded-btn" href="/about">About</a> </li></ul></div> <a href="/" class="btn btn-ghost normal-case text-lg">Behlul Akbudak</a></div> <div class="navbar-end"> <div id="change-theme" class="dropdown dropdown-end">  <div tabindex="0" class="btn btn-square btn-ghost" data-svelte-h="svelte-1qtp8cz"><span class="i-heroicons-outline-color-swatch"></span></div>   <ul tabindex="0" class="flex flex-nowrap shadow-2xl menu dropdown-content bg-base-100 text-base-content rounded-box w-52 p-2 gap-2 overflow-y-auto max-h-[21.5rem]"><button data-theme="cupcake" class="btn btn-ghost w-full hover:bg-primary group rounded-lg flex bg-base-100 p-2 transition-all"><p class="flex-1 text-left text-base-content group-hover:text-primary-content transition-color">Light</p> <div class="grid grid-cols-4 gap-0.5 m-auto"><div class="bg-primary w-1 h-4 rounded-btn"></div><div class="bg-secondary w-1 h-4 rounded-btn"></div><div class="bg-accent w-1 h-4 rounded-btn"></div><div class="bg-neutral w-1 h-4 rounded-btn"></div></div> </button><button data-theme="dracula" class="btn btn-ghost w-full hover:bg-primary group rounded-lg flex bg-base-100 p-2 transition-all"><p class="flex-1 text-left text-base-content group-hover:text-primary-content transition-color">Dark</p> <div class="grid grid-cols-4 gap-0.5 m-auto"><div class="bg-primary w-1 h-4 rounded-btn"></div><div class="bg-secondary w-1 h-4 rounded-btn"></div><div class="bg-accent w-1 h-4 rounded-btn"></div><div class="bg-neutral w-1 h-4 rounded-btn"></div></div> </button><button data-theme="night" class="btn btn-ghost w-full hover:bg-primary group rounded-lg flex bg-base-100 p-2 transition-all"><p class="flex-1 text-left text-base-content group-hover:text-primary-content transition-color">Night</p> <div class="grid grid-cols-4 gap-0.5 m-auto"><div class="bg-primary w-1 h-4 rounded-btn"></div><div class="bg-secondary w-1 h-4 rounded-btn"></div><div class="bg-accent w-1 h-4 rounded-btn"></div><div class="bg-neutral w-1 h-4 rounded-btn"></div></div> </button><button data-theme="valentine" class="btn btn-ghost w-full hover:bg-primary group rounded-lg flex bg-base-100 p-2 transition-all"><p class="flex-1 text-left text-base-content group-hover:text-primary-content transition-color">valentine</p> <div class="grid grid-cols-4 gap-0.5 m-auto"><div class="bg-primary w-1 h-4 rounded-btn"></div><div class="bg-secondary w-1 h-4 rounded-btn"></div><div class="bg-accent w-1 h-4 rounded-btn"></div><div class="bg-neutral w-1 h-4 rounded-btn"></div></div> </button></ul></div></div></div></header> <button id="totop" aria-label="scroll to top" class="fixed grid group btn btn-circle btn-lg border-none backdrop-blur bottom-6 right-6 z-50 duration-500 ease-in-out btn-ghost bg-base-100/30 md:bg-base-200/30 translate-y-24"><div class="radial-progress text-accent transition-all duration-500 ease-in-out group-hover:text-accent-focus col-start-1 row-start-1" style="--size:4rem; --thickness: 0.25rem; --value:undefined;"></div> <div class="border-4 border-base-content/10 group-hover:border-transparent col-start-1 row-start-1 rounded-full w-full h-full p-4 grid duration-500 ease-in-out" data-svelte-h="svelte-hwvjh5"><span class="i-heroicons-solid-chevron-up !w-6 !h-6"></span></div></button> <div class="bg-base-100 md:bg-base-200 min-h-screen pt-16 md:pb-8 lg:pb-16">  <div class="flex flex-col flex-nowrap justify-center xl:flex-row xl:flex-wrap"><div class="flex-1 w-full order-first ease-out transform mx-auto xl:mr-0 xl:ml-0"></div> <div class="flex-1 w-full xl:order-last ease-out transform mx-auto xl:ml-0 xl:mr-0"></div> <div class="flex-none w-full max-w-screen-md mx-auto xl:mx-0"><article itemscope itemtype="https://schema.org/BlogPosting" itemprop="blogPost" class="h-entry card bg-base-100 rounded-none md:rounded-box md:shadow-xl overflow-hidden z-10 md:mb-8 lg:mb-16">   <div class="card-body gap-0 "><div class="flex flex-col gap-2"> <div class="flex font-semibold gap-1.5"><a rel="author" class="opacity-75 hover:opacity-100 hover:text-primary duration-500 ease-in-out p-author h-card" href="https://behlulakbudak.com">Behlul Akbudak</a> <span class="opacity-50" data-svelte-h="svelte-1edzios">/</span> <a href="/icecc" class="u-url u-uid swap group/time"><time class="group-hover/time:opacity-0 font-semibold opacity-75 duration-500 ease-in-out mr-auto dt-published" datetime="2024-06-14T00:00:00.000Z" itemprop="datePublished">Friday, Jun 14, 24</time> <time class="opacity-0 group-hover/time:opacity-100 font-semibold text-primary duration-500 ease-in-out mr-auto dt-updated" datetime="2024-06-14T00:00:00.000Z" itemprop="dateModified">Friday, Jun 14, 24</time></a></div> <h1 itemprop="name headline" class="card-title text-3xl mb-8 p-name">Distributed Compilation with icecc</h1> <p itemprop="description" class="p-summary mb-auto hidden">Setting up icecc for distributed compilation with Raspberry Pi</p></div> <main itemprop="articleBody" class="urara-prose prose e-content"><p data-svelte-h="svelte-sct22q">Recently, I was working with ROS on a Raspberry Pi for my graduation project. I‚Äôll post more about it later. I encountered a problem: the Raspberry Pi is very slow at compiling. For example, while building a ROS package, I cooked, ate, did the dishes, and came back. After one and a half hours, the build still wasn‚Äôt finished.</p> <p data-svelte-h="svelte-6e0ofm">I started thinking about how to speed up the building process. I found out that the one effective solution is distributed compiling.</p> <h1 id="what-is-distributed-compiling" data-svelte-h="svelte-u97vy4"><a href="#what-is-distributed-compiling">What is distributed compiling?</a></h1> <p data-svelte-h="svelte-xxr56x">Distributed compiling involves spreading the compilation process across multiple machines. This can significantly reduce the time it takes to compile projects on resource limited machines. Distributed computing can be used to distribute the compilation tasks to other more powerful computers on the network. These tools send portions of the code to be compiled on different machines, which then return the compiled code back to the Raspberry Pi. This way, the overall load is shared, and the compilation process is accelerated.</p> <p data-svelte-h="svelte-1ed7zwm">By leveraging the power of distributed compiling, even resource-limited devices like the Raspberry Pi can handle complex builds more efficiently.</p> <h1 id="so-what-do-we-need" data-svelte-h="svelte-1iykkxi"><a href="#so-what-do-we-need">So what do we need?</a></h1> <p data-svelte-h="svelte-4um5jm">We need:</p> <ul data-svelte-h="svelte-1owirlz"><li>a tool to distribute our compile jobs like distcc or icecream</li> <li>a cross compiler for the target architecture.</li></ul> <p data-svelte-h="svelte-1l2ig4x">Since the Raspberry Pi has a different architecture (ARM) than most desktop or server machines (x86), you need a cross-compiler that can generate ARM-compatible binaries on these machines. A cross-compiler is a compiler configured to generate executable code for a different architecture than the one it runs on.</p> <h1 id="personal-experience-about-distcc-and-icecream" data-svelte-h="svelte-9pv6wt"><a href="#personal-experience-about-distcc-and-icecream">Personal experience about distcc and icecream</a></h1> <p data-svelte-h="svelte-14t8bcu">I struggled with the installation of distcc and couldn‚Äôt get it work properly. I could see that the packages were being sent and received between machines, but the compile jobs always failed. To troubleshoot, I isolated the cross-compiler and tested it separately by compiling a simple ‚ÄúHello, World!‚Äù program. After transferring the compiled program to the Raspberry Pi, it worked perfectly. This indicated that the cross-compiler itself was functional, but there were issues with how distcc was handling the compilation process.</p> <p data-svelte-h="svelte-1nzf94e">When I tried to get help with distcc, I felt like I had stumbled into a digital time capsule. Most of the forum posts and troubleshooting guides were from 2005! It was clear that distcc has been around for a long time, and its documentation and community support might not have kept pace.</p> <p data-svelte-h="svelte-1ctd2th">That‚Äôs when I discovered <a href="https://github.com/icecc/icecream" rel="nofollow noopener noreferrer external" target="_blank">icecream</a>:</p> <blockquote data-svelte-h="svelte-ueaubl"><p>Icecream was created by SUSE based on distcc. Like distcc, Icecream takes compile jobs from a build and distributes them among remote machines allowing a parallel build. But unlike distcc, Icecream uses a central server that dynamically schedules the compile jobs to the fastest free server. This advantage pays off mostly for shared computers, if you‚Äôre the only user on x machines, you have full control over them.</p></blockquote> <p data-svelte-h="svelte-dd8ssl">Switching to icecream resolved the issues I was experiencing with distcc. Installation was quick and straightforward, without the hassle I encountered before. What really impressed me was the debugging and monitoring features. I could easily track the jobs moving between machines, which made the whole process more transparent and manageable.</p> <p data-svelte-h="svelte-17eqfm4">So, let‚Äôs dive into installation!</p> <h1 id="installation" data-svelte-h="svelte-1e3mnoi"><a href="#installation">Installation</a></h1> <h3 id="debian-based-systems" data-svelte-h="svelte-wbsj6"><a href="#debian-based-systems">Debian Based Systems</a></h3> <p data-svelte-h="svelte-1n2mhsh">You can install icecc from the package manager:</p> <!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">$</span><span style="color: #EEFFFF">sudo apt install icecc</span></div></code></div></pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-fvolr3">You have to install icecc for all the machines that you want to use for distributed compiling.</p> <h3 id="compile-it-from-sources" data-svelte-h="svelte-11g5rgq"><a href="#compile-it-from-sources">Compile it from sources</a></h3> <p data-svelte-h="svelte-bhnfpl">Or you can compile it from <a href="https://github.com/icecc/icecream" rel="nofollow noopener noreferrer external" target="_blank">sources</a>. However, you need to install the dependencies first.</p> <h1 id="running-scheduler" data-svelte-h="svelte-501640"><a href="#running-scheduler">Running Scheduler</a></h1> <p data-svelte-h="svelte-ixif3r">As can be seen from the above, icecc has a scheduler that manages the distribution of compile jobs. You can run the scheduler on your host machine by:</p> <!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">$</span><span style="color: #EEFFFF">sudo icecc-scheduler</span></div></code></div></pre><!-- HTML_TAG_END --> <h1 id="launching-deamon" data-svelte-h="svelte-e3szu5"><a href="#launching-deamon">Launching Deamon</a></h1> <p data-svelte-h="svelte-mngjo">After installation, the daemons are working on the both host computers and Raspberrry Pi since the systemd unit is enabled by default on Debian-based systems. You can check it by:</p> <!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">$</span><span style="color: #EEFFFF">systemctl status iceccd.service</span></div></code></div></pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-a9gj9c">If it is not active you have to start it:</p> <!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">$</span><span style="color: #EEFFFF">sudo systemctl start iceccd</span></div></code></div></pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-1fs6g07">Also, you can enable the daemon at startup time:</p> <!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">$</span><span style="color: #EEFFFF">sudo systemctl </span><span style="color: #82AAFF">enable</span><span style="color: #EEFFFF"> iceccd</span></div></code></div></pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-fgkngw">This daemon will find scheduler in local network by itself. However, if there is more than one scheduler in the network, or the scheduler isn‚Äôt on the local network you can specify the ip address of the scheduler for the daemon:</p> <!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">$</span><span style="color: #EEFFFF">sudo iceccd -s </span><span style="color: #89DDFF">&lt;</span><span style="color: #EEFFFF">ip_scheduler</span><span style="color: #89DDFF">&gt;</span></div></code></div></pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-1mjda8a">Or you can edit <em>ICECC_SCHEDULER_HOST</em> in the configuration file <em>/etc/icecc/icecc.conf</em>.
Please note that you can also change the <em>ICECC_MAX_JOBS</em> to increase max job count, its default is the number of cores of the node, and you can change the default log folder if you want.</p> <h1 id="enable-icecc-compilation" data-svelte-h="svelte-1k3aabj"><a href="#enable-icecc-compilation">Enable Icecc Compilation</a></h1> <h3 id="optional-with-ccache" data-svelte-h="svelte-9xjx74"><a href="#optional-with-ccache">(Optional) With ccache</a></h3> <p data-svelte-h="svelte-1jg1lrd">Ccache is another good tool to speed up the compilation process.</p> <blockquote data-svelte-h="svelte-1qyh1fm"><p>Ccache is a compiler cache. It speeds up recompilation by caching previous compilations and detecting when the same compilation is being done again.</p></blockquote> <p data-svelte-h="svelte-gy5s9k">You can install it on Raspberry Pi by:</p> <!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">$</span><span style="color: #EEFFFF">sudo apt install ccache</span></div></code></div></pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-h60n8n">After that in your .bashrc add</p> <!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #C792EA">export</span><span style="color: #EEFFFF"> CCACHE_PREFIX=icecc</span></div></code></div></pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-1ri1gd7">to the end of the file.</p> <h3 id="without-ccache" data-svelte-h="svelte-1wnaodf"><a href="#without-ccache">Without ccache</a></h3> <p data-svelte-h="svelte-c5jr4s">At the end of .bashrc file in Raspberry Pi add</p> <!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #C792EA">export</span><span style="color: #EEFFFF"> PATH=/usr/lib/icecc/bin:</span><span style="color: #89DDFF">$</span><span style="color: #EEFFFF">PATH</span></div></code></div></pre><!-- HTML_TAG_END --> <h1 id="cross-compiler" data-svelte-h="svelte-fmp00j"><a href="#cross-compiler">Cross Compiler</a></h1> <p data-svelte-h="svelte-r8xrxm">On your host machine you need a cross compiler. To cross-compile for Raspberry Pi you can binaries for different systems <a href="https://github.com/abhiTronix/raspberry-pi-cross-compilers/wiki" rel="nofollow noopener noreferrer external" target="_blank">here</a>.</p> <p data-svelte-h="svelte-1fiq9dv">First look at your debian version on Raspberry Pi by</p> <!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">$</span><span style="color: #EEFFFF">lsb_release -a</span></div></code></div></pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-94bg3w">and then check your gcc version</p> <!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">$</span><span style="color: #EEFFFF">gcc --version</span></div></code></div></pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-8zto2c">After that click which version suits for you under the toolchain downloads and download cross compiler on your host computer, extract it.</p> <p data-svelte-h="svelte-1xipvzc">Next you need to create an icecream environment to tell icecream that it has to use the cross-compiler instead of the usual compiler present on the system. That can be done by running the following command:</p> <!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">$</span><span style="color: #EEFFFF">icecc-create-env --gcc </span><span style="color: #89DDFF">&lt;</span><span style="color: #EEFFFF">your_cross_compiler_location</span><span style="color: #89DDFF">&gt;</span><span style="color: #EEFFFF">/bin/arm-linux-gnueabihf-gcc </span><span style="color: #89DDFF">&lt;</span><span style="color: #EEFFFF">your_cross_compiler_location</span><span style="color: #89DDFF">&gt;</span><span style="color: #EEFFFF">/bin/arm-linux-gnueabihf-g++</span></div></code></div></pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-16rzjoy">This will create a tar.gz file with the environment, which you then have to copy over to each Raspberry Pi where you will run jobs from.</p> <p data-svelte-h="svelte-h9hug6">You can use scp to copy that to your Raspberry Pi:</p> <!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">$</span><span style="color: #EEFFFF">scp </span><span style="color: #89DDFF">&lt;</span><span style="color: #EEFFFF">hash</span><span style="color: #89DDFF">&gt;</span><span style="color: #EEFFFF">.tar.gz </span><span style="color: #89DDFF">&lt;</span><span style="color: #EEFFFF">remote_username</span><span style="color: #89DDFF">&gt;</span><span style="color: #EEFFFF">@</span><span style="color: #89DDFF">&lt;</span><span style="color: #EEFFFF">remote_ip</span><span style="color: #89DDFF">&gt;</span><span style="color: #EEFFFF">:/home/</span><span style="color: #89DDFF">&lt;</span><span style="color: #EEFFFF">remote_username</span><span style="color: #89DDFF">&gt;</span></div></code></div></pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-8kxoz7">After you copied the tar.gz file you need to export it on .bashrc in Raspberry Pi:</p> <!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #C792EA">export</span><span style="color: #EEFFFF"> ICECC_VERSION=x86_64:</span><span style="color: #89DDFF">~</span><span style="color: #EEFFFF">/</span><span style="color: #89DDFF">&lt;</span><span style="color: #EEFFFF">hash</span><span style="color: #89DDFF">&gt;</span><span style="color: #EEFFFF">.tar.gz</span></div></code></div></pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-11lqlz2">This is it. To check if it is working first be sure that scheduler is running, if not then run the icecc-scheduler:</p> <!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">$</span><span style="color: #EEFFFF">sudo icecc-scheduler</span></div></code></div></pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-ma4132">Install the icecream monitor on your host machine:</p> <!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">$</span><span style="color: #EEFFFF">sudo apt install icecc-monitor</span></div></code></div></pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-2t47dm">Run the icecream monitor to see that nodes are ready.</p> <!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">$</span><span style="color: #EEFFFF">icemon</span></div></code></div></pre><!-- HTML_TAG_END --> <p data-svelte-h="svelte-yyrbr2">It has to look something like this:</p> <p><img src="img/icecc.jpeg" alt="icemon" class="rounded-lg my-2" loading="lazy" decoding="async"></p> <p data-svelte-h="svelte-7k3yfr">When you start a compile job in Raspberry Pi, icecream will distrubute it to the other machines on the network.</p> <p data-svelte-h="svelte-qhl20e">A final note: For some tasks icecream may create disadvantageous situation because of the overhead it adds. See the <a href="https://github.com/icecc/icecream?tab=readme-ov-file#some-numbers" rel="nofollow noopener noreferrer external" target="_blank">Some Numbers Section</a>.</p></main> <div class="divider mt-4 mb-0"></div> <div><a href="/?tags=C/C++" class="btn btn-sm btn-ghost normal-case mt-2 mr-2 p-category">#C/C++ </a><a href="/?tags=icecc" class="btn btn-sm btn-ghost normal-case mt-2 mr-2 p-category">#icecc </a><a href="/?tags=Raspberry Pi" class="btn btn-sm btn-ghost normal-case mt-2 mr-2 p-category">#Raspberry Pi </a></div></div>  </article> <footer id="footer" class="footer footer-center bg-base-300 text-base-content shadow-inner p-8 md:rounded-box sticky bottom-0 z-0 md:static "><div class="prose"><p>
      Copyright ¬© 2024 Behlul Akbudak <br>
      Template by
      <a rel="noopener noreferrer external" target="_blank" class="tooltip tooltip-secondary hover:text-secondary" data-tip="üå∏ [Œ¥] - Based on MDsveX & SvelteKit üå∏" href="https://github.com/importantimport/urara" data-svelte-h="svelte-urea7w">Urara</a> </p></div></footer></div></div></div> 
			<script type="application/json" data-sveltekit-fetched data-url="/posts.json">{"status":200,"statusText":"","headers":{},"body":"[{\"title\":\"Quadrotor Test-bench Design\",\"summary\":\"A 4-DoF quadrotor test-bench for evaluating control algorithms under cyber-attacks.\",\"created\":\"2024-06-20T00:00:00.000Z\",\"updated\":\"2024-06-20T00:00:00.000Z\",\"tags\":[\"quadrotor\",\"Raspberry Pi\"],\"toc\":[{\"depth\":1,\"title\":\"Introduction\",\"slug\":\"introduction\"},{\"depth\":1,\"title\":\"Our Test-bench Build\",\"slug\":\"our-test-bench-build\"},{\"depth\":3,\"title\":\"Sensors and States\",\"slug\":\"sensors-and-states\"},{\"depth\":3,\"title\":\"Vibration Problem\",\"slug\":\"vibration-problem\"},{\"depth\":1,\"title\":\"How to control a quadrotor?\",\"slug\":\"how-to-control-a-quadrotor\"},{\"depth\":3,\"title\":\"Software Needed to Control Quadrotor\",\"slug\":\"software-needed-to-control-quadrotor\"},{\"depth\":3,\"title\":\"Control Diagram for Quadrotor\",\"slug\":\"control-diagram-for-quadrotor\"},{\"depth\":5,\"title\":\"Custom Controller in Simulink\",\"slug\":\"custom-controller-in-simulink\"},{\"depth\":3,\"title\":\"Spatial Information Acquisition\",\"slug\":\"spatial-information-acquisition\"},{\"depth\":3,\"title\":\"Autonomous Control\",\"slug\":\"autonomous-control\"},{\"depth\":1,\"title\":\"Cyber-attacks\",\"slug\":\"cyber-attacks\"},{\"depth\":1,\"title\":\"Results\",\"slug\":\"results\"},{\"depth\":1,\"title\":\"Conclusion\",\"slug\":\"conclusion\"}],\"images\":[],\"slug\":\"/quadrotor-test-bench/+page.md\",\"path\":\"/quadrotor-test-bench\",\"type\":\"article\",\"html\":\"\"},{\"title\":\"Distributed Compilation with icecc\",\"summary\":\"Setting up icecc for distributed compilation with Raspberry Pi\",\"created\":\"2024-06-14T00:00:00.000Z\",\"updated\":\"2024-06-14T00:00:00.000Z\",\"tags\":[\"C/C++\",\"icecc\",\"Raspberry Pi\"],\"toc\":[{\"depth\":1,\"title\":\"What is distributed compiling?\",\"slug\":\"what-is-distributed-compiling\"},{\"depth\":1,\"title\":\"So what do we need?\",\"slug\":\"so-what-do-we-need\"},{\"depth\":1,\"title\":\"Personal experience about distcc and icecream\",\"slug\":\"personal-experience-about-distcc-and-icecream\"},{\"depth\":1,\"title\":\"Installation\",\"slug\":\"installation\"},{\"depth\":3,\"title\":\"Debian Based Systems\",\"slug\":\"debian-based-systems\"},{\"depth\":3,\"title\":\"Compile it from sources\",\"slug\":\"compile-it-from-sources\"},{\"depth\":1,\"title\":\"Running Scheduler\",\"slug\":\"running-scheduler\"},{\"depth\":1,\"title\":\"Launching Deamon\",\"slug\":\"launching-deamon\"},{\"depth\":1,\"title\":\"Enable Icecc Compilation\",\"slug\":\"enable-icecc-compilation\"},{\"depth\":3,\"title\":\"(Optional) With ccache\",\"slug\":\"optional-with-ccache\"},{\"depth\":3,\"title\":\"Without ccache\",\"slug\":\"without-ccache\"},{\"depth\":1,\"title\":\"Cross Compiler\",\"slug\":\"cross-compiler\"}],\"images\":[],\"slug\":\"/icecc/+page.md\",\"path\":\"/icecc\",\"type\":\"article\",\"html\":\"\"},{\"title\":\"Medical Image Synthesis with SDXL\",\"summary\":\"How I Synthesized Medical Melanoma Images with Stable Diffusion and LoRa\",\"created\":\"2023-11-02T00:00:00.000Z\",\"updated\":\"2023-11-02T00:00:00.000Z\",\"tags\":[\"Stable-Diffusion\",\"Medical\",\"Image-Synthesis\"],\"toc\":[{\"depth\":1,\"title\":\"Melanoma Skin Cancer\",\"slug\":\"melanoma-skin-cancer\"},{\"depth\":2,\"title\":\"Melanoma in People of Color\",\"slug\":\"melanoma-in-people-of-color\"},{\"depth\":2,\"title\":\"Key Indicators of Melanoma\",\"slug\":\"key-indicators-of-melanoma\"},{\"depth\":1,\"title\":\"Medical Image Synthesis\",\"slug\":\"medical-image-synthesis\"},{\"depth\":1,\"title\":\"Stable Diffusion\",\"slug\":\"stable-diffusion\"},{\"depth\":1,\"title\":\"Fine-tuning Methods for SD\",\"slug\":\"fine-tuning-methods-for-sd\"},{\"depth\":4,\"title\":\"Traditional Naive Fine-tuning (NFT)\",\"slug\":\"traditional-naive-fine-tuning-nft\"},{\"depth\":4,\"title\":\"Dreambooth\",\"slug\":\"dreambooth\"},{\"depth\":4,\"title\":\"LoRa\",\"slug\":\"lora\"},{\"depth\":2,\"title\":\"Comparison\",\"slug\":\"comparison\"},{\"depth\":4,\"title\":\"Computational Perspective\",\"slug\":\"computational-perspective\"},{\"depth\":4,\"title\":\"Size on Disk\",\"slug\":\"size-on-disk\"},{\"depth\":4,\"title\":\"Why I Chose LoRa\",\"slug\":\"why-i-chose-lora\"},{\"depth\":4,\"title\":\"Fine-tuning Based on Your Goal\",\"slug\":\"fine-tuning-based-on-your-goal\"},{\"depth\":1,\"title\":\"Data Preparation\",\"slug\":\"data-preparation\"},{\"depth\":1,\"title\":\"Fine-tuning SD with LoRa\",\"slug\":\"fine-tuning-sd-with-lora\"},{\"depth\":2,\"title\":\"Base Model\",\"slug\":\"base-model\"},{\"depth\":2,\"title\":\"Note on Beauty Standards of Models\",\"slug\":\"note-on-beauty-standards-of-models\"},{\"depth\":2,\"title\":\"Training Configs\",\"slug\":\"training-configs\"},{\"depth\":3,\"title\":\"LoRa Configs\",\"slug\":\"lora-configs\"},{\"depth\":3,\"title\":\"Optimizer Configs\",\"slug\":\"optimizer-configs\"},{\"depth\":3,\"title\":\"General Config\",\"slug\":\"general-config\"},{\"depth\":1,\"title\":\"Results and Discussion\",\"slug\":\"results-and-discussion\"},{\"depth\":1,\"title\":\"References and Notes\",\"slug\":\"references-and-notes\"}],\"images\":[],\"slug\":\"/synthetic-melanoma-images/+page.md\",\"path\":\"/synthetic-melanoma-images\",\"type\":\"article\",\"html\":\"\"},{\"title\":\"About Me\",\"created\":\"2023-10-19T00:00:00.000Z\",\"updated\":\"2023-10-19T00:00:00.000Z\",\"toc\":false,\"flags\":[\"unlisted\"],\"images\":[],\"tags\":[],\"slug\":\"/about/+page.md\",\"path\":\"/about\",\"type\":\"article\",\"html\":\"\"},{\"title\":\"Synthetic Data | Overview\",\"summary\":\"What is Synthetic Data, Where to Use It and How to Generate It\",\"created\":\"2023-10-19T00:00:00.000Z\",\"updated\":\"2023-10-19T00:00:00.000Z\",\"tags\":[\"Image-Synthesis\"],\"toc\":[{\"depth\":1,\"title\":\"What is Synthetic Data?\",\"slug\":\"what-is-synthetic-data\"},{\"depth\":1,\"title\":\"Where is Synthetic Data Used?\",\"slug\":\"where-is-synthetic-data-used\"},{\"depth\":1,\"title\":\"Why Synthetic Data is Important?\",\"slug\":\"why-synthetic-data-is-important\"},{\"depth\":1,\"title\":\"How to Generate Synthetic Data\",\"slug\":\"how-to-generate-synthetic-data\"},{\"depth\":2,\"title\":\"Game Engine Method\",\"slug\":\"game-engine-method\"},{\"depth\":2,\"title\":\"Generative AI Method\",\"slug\":\"generative-ai-method\"},{\"depth\":2,\"title\":\"Game Engine + Generative AI Method\",\"slug\":\"game-engine--generative-ai-method\"},{\"depth\":1,\"title\":\"Conclusion\",\"slug\":\"conclusion\"},{\"depth\":1,\"title\":\"Notes\",\"slug\":\"notes\"}],\"images\":[],\"slug\":\"/synthetic-data/+page.md\",\"path\":\"/synthetic-data\",\"type\":\"article\",\"html\":\"\"},{\"title\":\"Creating PCBs at Home\",\"summary\":\"PCB manufacturing with mixture of toner transfer and dry film methods\",\"created\":\"2023-10-18T00:00:00.000Z\",\"updated\":\"2023-11-07T00:00:00.000Z\",\"tags\":[\"PCB\"],\"toc\":[{\"depth\":2,\"title\":\"Introduction\",\"slug\":\"introduction\"},{\"depth\":2,\"title\":\"My PCB Manufacturing Process\",\"slug\":\"my-pcb-manufacturing-process\"},{\"depth\":2,\"title\":\"First Attempt: Failed\",\"slug\":\"first-attempt-failed\"},{\"depth\":4,\"title\":\"What went wrong?\",\"slug\":\"what-went-wrong\"},{\"depth\":4,\"title\":\"What‚Äôs next?\",\"slug\":\"whats-next\"},{\"depth\":2,\"title\":\"Second Attempt: Partially Successful\",\"slug\":\"second-attempt-partially-successful\"},{\"depth\":2,\"title\":\"Success on One Layer PCBs\",\"slug\":\"success-on-one-layer-pcbs\"},{\"depth\":3,\"title\":\"What was my mistakes?\",\"slug\":\"what-was-my-mistakes\"},{\"depth\":4,\"title\":\"In the etching process:\",\"slug\":\"in-the-etching-process\"},{\"depth\":4,\"title\":\"In the dry film process:\",\"slug\":\"in-the-dry-film-process\"},{\"depth\":3,\"title\":\"Gift for My Girlfriend\",\"slug\":\"gift-for-my-girlfriend\"},{\"depth\":3,\"title\":\"What‚Äôs next?\",\"slug\":\"whats-next-1\"}],\"images\":[],\"slug\":\"/pcb-manufacturing/+page.md\",\"path\":\"/pcb-manufacturing\",\"type\":\"article\",\"html\":\"\"}]"}</script>
			<script>
				{
					__sveltekit_lqbh6m = {
						base: new URL("..", location).pathname.slice(0, -1),
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,null];

					Promise.all([
						import("../_app/immutable/entry/start.e8dc2186.js"),
						import("../_app/immutable/entry/app.accb86e8.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 4],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
  </body>
</html>
